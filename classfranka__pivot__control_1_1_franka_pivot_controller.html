<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>franka_pivot_control: franka_pivot_control::FrankaPivotController Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">franka_pivot_control
   &#160;<span id="projectnumber">0.1</span>
   </div>
   <div id="projectbrief">A pivoting robot controller for Franka Emika Panda</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacefranka__pivot__control.html">franka_pivot_control</a></li><li class="navelem"><a class="el" href="classfranka__pivot__control_1_1_franka_pivot_controller.html">FrankaPivotController</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classfranka__pivot__control_1_1_franka_pivot_controller-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">franka_pivot_control::FrankaPivotController Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This class implements the interface <a href="https://peetcreative.github.io/franka_pivot_control/classpivot__control__messages_1_1_pivot_controller.html">PivotController</a> by the robot.  
 <a href="classfranka__pivot__control_1_1_franka_pivot_controller.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_franka_pivot_controller_8h_source.html">FrankaPivotController.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for franka_pivot_control::FrankaPivotController:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classfranka__pivot__control_1_1_franka_pivot_controller.png" usemap="#franka_5Fpivot_5Fcontrol::FrankaPivotController_map" alt=""/>
  <map id="franka_5Fpivot_5Fcontrol::FrankaPivotController_map" name="franka_pivot_control::FrankaPivotController_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac2e9e32c131cb544d6a2f34a5dcc3432"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka__pivot__control_1_1_franka_pivot_controller.html#ac2e9e32c131cb544d6a2f34a5dcc3432">FrankaPivotController</a> (std::string robotHostname, double distanceEE2PP, double distanceEE2Tip, double dynamicRel, double cameraTilt)</td></tr>
<tr class="memdesc:ac2e9e32c131cb544d6a2f34a5dcc3432"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor of the Interface class.  <a href="#ac2e9e32c131cb544d6a2f34a5dcc3432">More...</a><br /></td></tr>
<tr class="separator:ac2e9e32c131cb544d6a2f34a5dcc3432"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6e90254b6ce45b64cfcb586fcb7c433"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka__pivot__control_1_1_franka_pivot_controller.html#ad6e90254b6ce45b64cfcb586fcb7c433">setSpeed</a> (float dynamicRel)</td></tr>
<tr class="memdesc:ad6e90254b6ce45b64cfcb586fcb7c433"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set speed Value between 0 and 1.  <a href="#ad6e90254b6ce45b64cfcb586fcb7c433">More...</a><br /></td></tr>
<tr class="separator:ad6e90254b6ce45b64cfcb586fcb7c433"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8545d439f24f7a9a1b0cde0277120344"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka__pivot__control_1_1_franka_pivot_controller.html#a8545d439f24f7a9a1b0cde0277120344">startPivoting</a> (pivot_control_messages::DOFPose startDOFPose={0, 0, 0, 0})</td></tr>
<tr class="memdesc:a8545d439f24f7a9a1b0cde0277120344"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start Pivoting from this pose the robot is currently in.  <a href="#a8545d439f24f7a9a1b0cde0277120344">More...</a><br /></td></tr>
<tr class="separator:a8545d439f24f7a9a1b0cde0277120344"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2641a7d2671ab712f63a5a6424afcb6c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka__pivot__control_1_1_franka_pivot_controller.html#a2641a7d2671ab712f63a5a6424afcb6c">stopPivoting</a> ()</td></tr>
<tr class="memdesc:a2641a7d2671ab712f63a5a6424afcb6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop Pivoting release the robot.  <a href="#a2641a7d2671ab712f63a5a6424afcb6c">More...</a><br /></td></tr>
<tr class="separator:a2641a7d2671ab712f63a5a6424afcb6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93a6575cbf8cdf194380f7dddc6b58bb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka__pivot__control_1_1_franka_pivot_controller.html#a93a6575cbf8cdf194380f7dddc6b58bb">moveJointSpace</a> (std::array&lt; double, 7 &gt; target)</td></tr>
<tr class="memdesc:a93a6575cbf8cdf194380f7dddc6b58bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function starting a joint movement.  <a href="#a93a6575cbf8cdf194380f7dddc6b58bb">More...</a><br /></td></tr>
<tr class="separator:a93a6575cbf8cdf194380f7dddc6b58bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac8aab64d895fdd1f609031be3bdabd7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka__pivot__control_1_1_franka_pivot_controller.html#aac8aab64d895fdd1f609031be3bdabd7">moveCartesianZ</a> (float z)</td></tr>
<tr class="memdesc:aac8aab64d895fdd1f609031be3bdabd7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function starting a cartesian movement along the z-Axis of the flange.  <a href="#aac8aab64d895fdd1f609031be3bdabd7">More...</a><br /></td></tr>
<tr class="separator:aac8aab64d895fdd1f609031be3bdabd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5248021c24a30bd8be7bd9787b44a2d2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka__pivot__control_1_1_franka_pivot_controller.html#a5248021c24a30bd8be7bd9787b44a2d2">setTargetDOFPose</a> (DOFPose) override</td></tr>
<tr class="memdesc:a5248021c24a30bd8be7bd9787b44a2d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">implements pivot_control_messages::PivotController::setTargetDOFPose See <a href="https://peetcreative.github.io/franka_pivot_control/classpivot__control__messages_1_1_pivot_controller.html">PivotController::setTargetDOFPose</a>  <a href="#a5248021c24a30bd8be7bd9787b44a2d2">More...</a><br /></td></tr>
<tr class="separator:a5248021c24a30bd8be7bd9787b44a2d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8de9a6b463858343a504eaa76dcef16"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka__pivot__control_1_1_franka_pivot_controller.html#ab8de9a6b463858343a504eaa76dcef16">getCurrentDOFPose</a> (DOFPose &amp;laparoscopeDofPose) override</td></tr>
<tr class="memdesc:ab8de9a6b463858343a504eaa76dcef16"><td class="mdescLeft">&#160;</td><td class="mdescRight">implements pivot_control_messages::PivotController::getCurrentDOFPose See <a href="https://peetcreative.github.io/franka_pivot_control/classpivot__control__messages_1_1_pivot_controller.html">PivotController::getCurrentDOFPose</a>  <a href="#ab8de9a6b463858343a504eaa76dcef16">More...</a><br /></td></tr>
<tr class="separator:ab8de9a6b463858343a504eaa76dcef16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02bc5847f74be2785258f92d5c770f32"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka__pivot__control_1_1_franka_pivot_controller.html#a02bc5847f74be2785258f92d5c770f32">getDOFBoundaries</a> (DOFBoundaries &amp;laparoscopeDofBoundaries) override</td></tr>
<tr class="memdesc:a02bc5847f74be2785258f92d5c770f32"><td class="mdescLeft">&#160;</td><td class="mdescRight">implements pivot_control_messages::PivotController::getDOFBoundaries See <a href="https://peetcreative.github.io/franka_pivot_control/classpivot__control__messages_1_1_pivot_controller.html">PivotController::getDOFBoundaries</a>  <a href="#a02bc5847f74be2785258f92d5c770f32">More...</a><br /></td></tr>
<tr class="separator:a02bc5847f74be2785258f92d5c770f32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8cc634b40860fbe20215e7b172fe3f8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka__pivot__control_1_1_franka_pivot_controller.html#af8cc634b40860fbe20215e7b172fe3f8">getCurrentTipPose</a> (std::array&lt; double, 3 &gt; &amp;translation, std::array&lt; double, 4 &gt; &amp;rotation)</td></tr>
<tr class="memdesc:af8cc634b40860fbe20215e7b172fe3f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">get the transformation of the tooltip  <a href="#af8cc634b40860fbe20215e7b172fe3f8">More...</a><br /></td></tr>
<tr class="separator:af8cc634b40860fbe20215e7b172fe3f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02d46ad1a61b191fb34055149d7e5125"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka__pivot__control_1_1_franka_pivot_controller.html#a02d46ad1a61b191fb34055149d7e5125">getError</a> (double &amp;error)</td></tr>
<tr class="memdesc:a02d46ad1a61b191fb34055149d7e5125"><td class="mdescLeft">&#160;</td><td class="mdescRight">get calculated distance of the tool-Axis to the pivot point  <a href="#a02d46ad1a61b191fb34055149d7e5125">More...</a><br /></td></tr>
<tr class="separator:a02d46ad1a61b191fb34055149d7e5125"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a315c5e9b793c27a6baeac81811417e45"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka__pivot__control_1_1_franka_pivot_controller.html#a315c5e9b793c27a6baeac81811417e45">getFrankaError</a> (std::string &amp;frankaError)</td></tr>
<tr class="memdesc:a315c5e9b793c27a6baeac81811417e45"><td class="mdescLeft">&#160;</td><td class="mdescRight">pop the first element from the MessageQueue of libfranka errors  <a href="#a315c5e9b793c27a6baeac81811417e45">More...</a><br /></td></tr>
<tr class="separator:a315c5e9b793c27a6baeac81811417e45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0902abe0c13b9e0f83bd4d1e38082388"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka__pivot__control_1_1_franka_pivot_controller.html#a0902abe0c13b9e0f83bd4d1e38082388">isReady</a> ()</td></tr>
<tr class="memdesc:a0902abe0c13b9e0f83bd4d1e38082388"><td class="mdescLeft">&#160;</td><td class="mdescRight">indicate if the controller is ready to pivot See <a href="https://peetcreative.github.io/franka_pivot_control/classpivot__control__messages_1_1_pivot_controller.html">PivotController::isReady</a>  <a href="#a0902abe0c13b9e0f83bd4d1e38082388">More...</a><br /></td></tr>
<tr class="separator:a0902abe0c13b9e0f83bd4d1e38082388"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4827a37ea1bbfcbcbc4c1da81643affd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka__pivot__control_1_1_franka_pivot_controller.html#a4827a37ea1bbfcbcbc4c1da81643affd">calcAffineFromDOFPose</a> (DOFPose &amp;dofPose, frankx::Affine &amp;affine)</td></tr>
<tr class="memdesc:a4827a37ea1bbfcbcbc4c1da81643affd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to calculate the target Affine pose from the DOFPose.  <a href="#a4827a37ea1bbfcbcbc4c1da81643affd">More...</a><br /></td></tr>
<tr class="separator:a4827a37ea1bbfcbcbc4c1da81643affd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef4de44bfae6e79a04bc4ba748242f7a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka__pivot__control_1_1_franka_pivot_controller.html#aef4de44bfae6e79a04bc4ba748242f7a">calcDOFPoseFromAffine</a> (frankx::Affine affine, DOFPose &amp;dofPose, double &amp;error)</td></tr>
<tr class="memdesc:aef4de44bfae6e79a04bc4ba748242f7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to calculate the DOFPose from the affine.  <a href="#aef4de44bfae6e79a04bc4ba748242f7a">More...</a><br /></td></tr>
<tr class="separator:aef4de44bfae6e79a04bc4ba748242f7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a22a1c86e06e0cbe1a74d8af34a55cfc5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka__pivot__control_1_1_franka_pivot_controller.html#a22a1c86e06e0cbe1a74d8af34a55cfc5">testCalc</a> (movex::Affine initialEEAffine)</td></tr>
<tr class="memdesc:a22a1c86e06e0cbe1a74d8af34a55cfc5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test function for calcAffineFromDOFPose.  <a href="#a22a1c86e06e0cbe1a74d8af34a55cfc5">More...</a><br /></td></tr>
<tr class="separator:a22a1c86e06e0cbe1a74d8af34a55cfc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc57a1afac0c0c6c5e2df34bee110338"><td class="memItemLeft" align="right" valign="top">DOFPose&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka__pivot__control_1_1_franka_pivot_controller.html#afc57a1afac0c0c6c5e2df34bee110338">updateCurrentPoses</a> ()</td></tr>
<tr class="memdesc:afc57a1afac0c0c6c5e2df34bee110338"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to be run in a seperate thread to run the command loop.  <a href="#afc57a1afac0c0c6c5e2df34bee110338">More...</a><br /></td></tr>
<tr class="separator:afc57a1afac0c0c6c5e2df34bee110338"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacae08dd52ed5eab24663bba1197aa93"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka__pivot__control_1_1_franka_pivot_controller.html#aacae08dd52ed5eab24663bba1197aa93">move</a> ()</td></tr>
<tr class="memdesc:aacae08dd52ed5eab24663bba1197aa93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to be run in a seperate thread to run the command loop.  <a href="#aacae08dd52ed5eab24663bba1197aa93">More...</a><br /></td></tr>
<tr class="separator:aacae08dd52ed5eab24663bba1197aa93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32f51da3db0c98d4ffd92bd9f619f1e7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka__pivot__control_1_1_franka_pivot_controller.html#a32f51da3db0c98d4ffd92bd9f619f1e7">pivot</a> ()</td></tr>
<tr class="separator:a32f51da3db0c98d4ffd92bd9f619f1e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a666139c1a483a218aff31a10fb259084"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; frankx::Robot &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka__pivot__control_1_1_franka_pivot_controller.html#a666139c1a483a218aff31a10fb259084">mRobot</a></td></tr>
<tr class="separator:a666139c1a483a218aff31a10fb259084"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9204d13db4c3e61992d77c23b6ca456"><td class="memItemLeft" align="right" valign="top">std::thread&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka__pivot__control_1_1_franka_pivot_controller.html#af9204d13db4c3e61992d77c23b6ca456">mMoveThread</a></td></tr>
<tr class="separator:af9204d13db4c3e61992d77c23b6ca456"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc456734b2071310be41d710f4b4556b"><td class="memItemLeft" align="right" valign="top">std::thread&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka__pivot__control_1_1_franka_pivot_controller.html#afc456734b2071310be41d710f4b4556b">mPivotThread</a></td></tr>
<tr class="separator:afc456734b2071310be41d710f4b4556b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29d73394788a7a2e6bfa6d2659119db0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka__pivot__control_1_1_franka_pivot_controller.html#a29d73394788a7a2e6bfa6d2659119db0">mIsRobotThreadRunning</a> {false}</td></tr>
<tr class="separator:a29d73394788a7a2e6bfa6d2659119db0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10942407813c058db4e9ec66f419fc6e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka__pivot__control_1_1_franka_pivot_controller.html#a10942407813c058db4e9ec66f419fc6e">mPivoting</a> {false}</td></tr>
<tr class="separator:a10942407813c058db4e9ec66f419fc6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71f09a82499e9a6441871f1b6b5ed28c"><td class="memItemLeft" align="right" valign="top">movex::WaypointMotion&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka__pivot__control_1_1_franka_pivot_controller.html#a71f09a82499e9a6441871f1b6b5ed28c">mWaypointMotion</a></td></tr>
<tr class="separator:a71f09a82499e9a6441871f1b6b5ed28c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0988ffaafe3cb7d5c181d14d57c29d99"><td class="memItemLeft" align="right" valign="top">movex::Waypoint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka__pivot__control_1_1_franka_pivot_controller.html#a0988ffaafe3cb7d5c181d14d57c29d99">mTargetWaypoint</a></td></tr>
<tr class="separator:a0988ffaafe3cb7d5c181d14d57c29d99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac42a5b3016a03aa7167ae59715b54b04"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; std::mutex &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka__pivot__control_1_1_franka_pivot_controller.html#ac42a5b3016a03aa7167ae59715b54b04">mMotionDataMutex</a></td></tr>
<tr class="separator:ac42a5b3016a03aa7167ae59715b54b04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6337afe86d9f2ef333df4ae748010d75"><td class="memItemLeft" align="right" valign="top">movex::MotionData&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka__pivot__control_1_1_franka_pivot_controller.html#a6337afe86d9f2ef333df4ae748010d75">mMotionData</a></td></tr>
<tr class="separator:a6337afe86d9f2ef333df4ae748010d75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e48ae0bde6d7aa1a9f9e016aa988dad"><td class="memItemLeft" align="right" valign="top">frankx::Affine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka__pivot__control_1_1_franka_pivot_controller.html#a6e48ae0bde6d7aa1a9f9e016aa988dad">mCurrentAffine</a></td></tr>
<tr class="separator:a6e48ae0bde6d7aa1a9f9e016aa988dad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2535574f0c910e197baae749628bdf3"><td class="memItemLeft" align="right" valign="top">frankx::Affine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka__pivot__control_1_1_franka_pivot_controller.html#ab2535574f0c910e197baae749628bdf3">mInitialPPAffine</a></td></tr>
<tr class="memdesc:ab2535574f0c910e197baae749628bdf3"><td class="mdescLeft">&#160;</td><td class="mdescRight">just to evaluate the calcXtoY functions  <a href="#ab2535574f0c910e197baae749628bdf3">More...</a><br /></td></tr>
<tr class="separator:ab2535574f0c910e197baae749628bdf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f98dbd5c0c8256a330471dad7a5d78c"><td class="memItemLeft" align="right" valign="top">DOFPose&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka__pivot__control_1_1_franka_pivot_controller.html#a9f98dbd5c0c8256a330471dad7a5d78c">mTargetDOFPose</a></td></tr>
<tr class="separator:a9f98dbd5c0c8256a330471dad7a5d78c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cefcb2ffdb85bb6c9ef0d71f5714c02"><td class="memItemLeft" align="right" valign="top">DOFPose&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka__pivot__control_1_1_franka_pivot_controller.html#a8cefcb2ffdb85bb6c9ef0d71f5714c02">mCurrentDOFPose</a></td></tr>
<tr class="separator:a8cefcb2ffdb85bb6c9ef0d71f5714c02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a807fb0e749b5e110aa5c9fe361d9e322"><td class="memItemLeft" align="right" valign="top">std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka__pivot__control_1_1_franka_pivot_controller.html#a807fb0e749b5e110aa5c9fe361d9e322">mTargetCurrentMutex</a></td></tr>
<tr class="separator:a807fb0e749b5e110aa5c9fe361d9e322"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e8a76ac254568bb652c1a6bed55a7bf"><td class="memItemLeft" align="right" valign="top">DOFBoundaries&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka__pivot__control_1_1_franka_pivot_controller.html#a1e8a76ac254568bb652c1a6bed55a7bf">mDOFBoundaries</a></td></tr>
<tr class="separator:a1e8a76ac254568bb652c1a6bed55a7bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54573121314ba8b15e560873a916535a"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka__pivot__control_1_1_franka_pivot_controller.html#a54573121314ba8b15e560873a916535a">mCurrentError</a> {0}</td></tr>
<tr class="separator:a54573121314ba8b15e560873a916535a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91dabb9be4f24382ec2dd690f272ace1"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka__pivot__control_1_1_franka_pivot_controller.html#a91dabb9be4f24382ec2dd690f272ace1">mDistanceEE2PP</a></td></tr>
<tr class="separator:a91dabb9be4f24382ec2dd690f272ace1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4936f12e4893f01872b2fa75232afe5e"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka__pivot__control_1_1_franka_pivot_controller.html#a4936f12e4893f01872b2fa75232afe5e">mDistanceEE2Tip</a></td></tr>
<tr class="separator:a4936f12e4893f01872b2fa75232afe5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cdc16dcf5a63f24e08b127c22303d93"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka__pivot__control_1_1_franka_pivot_controller.html#a7cdc16dcf5a63f24e08b127c22303d93">mCameraTilt</a></td></tr>
<tr class="separator:a7cdc16dcf5a63f24e08b127c22303d93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab048a6dba8f1b39a93418f98aae32d93"><td class="memItemLeft" align="right" valign="top">Eigen::Vector3d&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka__pivot__control_1_1_franka_pivot_controller.html#ab048a6dba8f1b39a93418f98aae32d93">mYAxis</a> {Eigen::Vector3d::UnitY()}</td></tr>
<tr class="separator:ab048a6dba8f1b39a93418f98aae32d93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a623439f56c6e76f0b6bae8619eb389c5"><td class="memItemLeft" align="right" valign="top">Eigen::Vector3d&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka__pivot__control_1_1_franka_pivot_controller.html#a623439f56c6e76f0b6bae8619eb389c5">mZAxis</a> {Eigen::Vector3d::UnitZ()}</td></tr>
<tr class="separator:a623439f56c6e76f0b6bae8619eb389c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bca23968d43916cf98ef6f133e56c9c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka__pivot__control_1_1_franka_pivot_controller.html#a4bca23968d43916cf98ef6f133e56c9c">mReady</a> {false}</td></tr>
<tr class="separator:a4bca23968d43916cf98ef6f133e56c9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adafdea986e73282e4354085afcde4f6c"><td class="memItemLeft" align="right" valign="top">std::deque&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka__pivot__control_1_1_franka_pivot_controller.html#adafdea986e73282e4354085afcde4f6c">mFrankaErrors</a> {}</td></tr>
<tr class="separator:adafdea986e73282e4354085afcde4f6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class implements the interface <a href="https://peetcreative.github.io/franka_pivot_control/classpivot__control__messages_1_1_pivot_controller.html">PivotController</a> by the robot. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ac2e9e32c131cb544d6a2f34a5dcc3432"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">franka_pivot_control::FrankaPivotController::FrankaPivotController </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>robotHostname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>distanceEE2PP</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>distanceEE2Tip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dynamicRel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>cameraTilt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor of the Interface class. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">robotHostname</td><td>hostname/IP of the robot </td></tr>
    <tr><td class="paramname">distanceEE2PP</td><td>distance from Endeffector (Robot flange) to PivotPoint </td></tr>
    <tr><td class="paramname">distanceEE2Tip</td><td>distance from Endeffector (Robot flange) to Tip of the tool (Camera in <em>EndoMersion</em>) </td></tr>
    <tr><td class="paramname">dynamicRel</td><td>dynamic relation to be configured to franka </td></tr>
    <tr><td class="paramname">cameraTilt</td><td>angle of the camera tilt, atm not used </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a4827a37ea1bbfcbcbc4c1da81643affd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void franka_pivot_control::FrankaPivotController::calcAffineFromDOFPose </td>
          <td>(</td>
          <td class="paramtype">DOFPose &amp;&#160;</td>
          <td class="paramname"><em>dofPose</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">frankx::Affine &amp;&#160;</td>
          <td class="paramname"><em>affine</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to calculate the target Affine pose from the DOFPose. </p>

</div>
</div>
<a class="anchor" id="aef4de44bfae6e79a04bc4ba748242f7a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void franka_pivot_control::FrankaPivotController::calcDOFPoseFromAffine </td>
          <td>(</td>
          <td class="paramtype">frankx::Affine&#160;</td>
          <td class="paramname"><em>affine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DOFPose &amp;&#160;</td>
          <td class="paramname"><em>dofPose</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to calculate the DOFPose from the affine. </p>

</div>
</div>
<a class="anchor" id="ab8de9a6b463858343a504eaa76dcef16"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool franka_pivot_control::FrankaPivotController::getCurrentDOFPose </td>
          <td>(</td>
          <td class="paramtype">DOFPose &amp;&#160;</td>
          <td class="paramname"><em>laparoscopeDofPose</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>implements pivot_control_messages::PivotController::getCurrentDOFPose See <a href="https://peetcreative.github.io/franka_pivot_control/classpivot__control__messages_1_1_pivot_controller.html">PivotController::getCurrentDOFPose</a> </p>

</div>
</div>
<a class="anchor" id="af8cc634b40860fbe20215e7b172fe3f8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool franka_pivot_control::FrankaPivotController::getCurrentTipPose </td>
          <td>(</td>
          <td class="paramtype">std::array&lt; double, 3 &gt; &amp;&#160;</td>
          <td class="paramname"><em>translation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::array&lt; double, 4 &gt; &amp;&#160;</td>
          <td class="paramname"><em>rotation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>get the transformation of the tooltip </p>
<p>This function gets the current transformation of the tooltip (Camera for <em>EndoMersion</em>) relative to origin of the robot. </p>

</div>
</div>
<a class="anchor" id="a02bc5847f74be2785258f92d5c770f32"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool franka_pivot_control::FrankaPivotController::getDOFBoundaries </td>
          <td>(</td>
          <td class="paramtype">DOFBoundaries &amp;&#160;</td>
          <td class="paramname"><em>laparoscopeDofBoundaries</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>implements pivot_control_messages::PivotController::getDOFBoundaries See <a href="https://peetcreative.github.io/franka_pivot_control/classpivot__control__messages_1_1_pivot_controller.html">PivotController::getDOFBoundaries</a> </p>

</div>
</div>
<a class="anchor" id="a02d46ad1a61b191fb34055149d7e5125"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool franka_pivot_control::FrankaPivotController::getError </td>
          <td>(</td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>error</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>get calculated distance of the tool-Axis to the pivot point </p>
<p>This function gets the distance, when projecting the pivot to the tool-Axis. Optimally this should be tend towards zero, the tool going directly through the entry hole.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">error</td><td>[out] distance error value in Meter </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>success </dd></dl>

</div>
</div>
<a class="anchor" id="a315c5e9b793c27a6baeac81811417e45"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool franka_pivot_control::FrankaPivotController::getFrankaError </td>
          <td>(</td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>frankaError</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>pop the first element from the MessageQueue of libfranka errors </p>
<p>While pivoting the libfranka sometimes stops and the controller restarts the movements. The according messages are stored in a queue.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frankaError</td><td>String describing the error. generated by libfranka </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if there is a message </dd></dl>

</div>
</div>
<a class="anchor" id="a0902abe0c13b9e0f83bd4d1e38082388"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool franka_pivot_control::FrankaPivotController::isReady </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>indicate if the controller is ready to pivot See <a href="https://peetcreative.github.io/franka_pivot_control/classpivot__control__messages_1_1_pivot_controller.html">PivotController::isReady</a> </p>

</div>
</div>
<a class="anchor" id="aacae08dd52ed5eab24663bba1197aa93"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void franka_pivot_control::FrankaPivotController::move </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function to be run in a seperate thread to run the command loop. </p>

</div>
</div>
<a class="anchor" id="aac8aab64d895fdd1f609031be3bdabd7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool franka_pivot_control::FrankaPivotController::moveCartesianZ </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>z</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function starting a cartesian movement along the z-Axis of the flange. </p>
<p>if the robot is not pivoting (stopPivoting) the robot moves (cartesian) along the z-Axis of the flange This is to be used to move the tool out.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">z</td><td>target distance to move </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>success </dd></dl>

</div>
</div>
<a class="anchor" id="a93a6575cbf8cdf194380f7dddc6b58bb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool franka_pivot_control::FrankaPivotController::moveJointSpace </td>
          <td>(</td>
          <td class="paramtype">std::array&lt; double, 7 &gt;&#160;</td>
          <td class="paramname"><em>target</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function starting a joint movement. </p>
<p>if the robot is not pivoting (stopPivoting) the robot moves to this joint Position</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">target</td><td>target angles of the seven joints of Panda robot </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>success </dd></dl>

</div>
</div>
<a class="anchor" id="a32f51da3db0c98d4ffd92bd9f619f1e7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void franka_pivot_control::FrankaPivotController::pivot </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad6e90254b6ce45b64cfcb586fcb7c433"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool franka_pivot_control::FrankaPivotController::setSpeed </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>dynamicRel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set speed Value between 0 and 1. </p>
<p>This function set the speed of the Franka Emika Robot</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dynamicRel</td><td>Value between 0 (min) and 1 (max) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>success </dd></dl>

</div>
</div>
<a class="anchor" id="a5248021c24a30bd8be7bd9787b44a2d2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool franka_pivot_control::FrankaPivotController::setTargetDOFPose </td>
          <td>(</td>
          <td class="paramtype">DOFPose&#160;</td>
          <td class="paramname"><em>dofPose</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>implements pivot_control_messages::PivotController::setTargetDOFPose See <a href="https://peetcreative.github.io/franka_pivot_control/classpivot__control__messages_1_1_pivot_controller.html">PivotController::setTargetDOFPose</a> </p>

</div>
</div>
<a class="anchor" id="a8545d439f24f7a9a1b0cde0277120344"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool franka_pivot_control::FrankaPivotController::startPivoting </td>
          <td>(</td>
          <td class="paramtype">pivot_control_messages::DOFPose&#160;</td>
          <td class="paramname"><em>startDOFPose</em> = <code>{0,&#160;0,&#160;0,&#160;0}</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start Pivoting from this pose the robot is currently in. </p>
<p>this will start the run-function thread.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">startDOFPose</td><td>DOFPose to start from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Success, if the robot is used return false </dd></dl>

</div>
</div>
<a class="anchor" id="a2641a7d2671ab712f63a5a6424afcb6c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool franka_pivot_control::FrankaPivotController::stopPivoting </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop Pivoting release the robot. </p>
<p>stops the run-function thread</p>
<dl class="section return"><dt>Returns</dt><dd>success </dd></dl>

</div>
</div>
<a class="anchor" id="a22a1c86e06e0cbe1a74d8af34a55cfc5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool franka_pivot_control::FrankaPivotController::testCalc </td>
          <td>(</td>
          <td class="paramtype">movex::Affine&#160;</td>
          <td class="paramname"><em>initialEEAffine</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Test function for calcAffineFromDOFPose. </p>

</div>
</div>
<a class="anchor" id="afc57a1afac0c0c6c5e2df34bee110338"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DOFPose franka_pivot_control::FrankaPivotController::updateCurrentPoses </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function to be run in a seperate thread to run the command loop. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a7cdc16dcf5a63f24e08b127c22303d93"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double franka_pivot_control::FrankaPivotController::mCameraTilt</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a6e48ae0bde6d7aa1a9f9e016aa988dad"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">frankx::Affine franka_pivot_control::FrankaPivotController::mCurrentAffine</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8cefcb2ffdb85bb6c9ef0d71f5714c02"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DOFPose franka_pivot_control::FrankaPivotController::mCurrentDOFPose</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a54573121314ba8b15e560873a916535a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double franka_pivot_control::FrankaPivotController::mCurrentError {0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a91dabb9be4f24382ec2dd690f272ace1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double franka_pivot_control::FrankaPivotController::mDistanceEE2PP</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a4936f12e4893f01872b2fa75232afe5e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double franka_pivot_control::FrankaPivotController::mDistanceEE2Tip</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a1e8a76ac254568bb652c1a6bed55a7bf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DOFBoundaries franka_pivot_control::FrankaPivotController::mDOFBoundaries</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">{</div><div class="line">                        0.2, -0.5,</div><div class="line">                        0.5,-0.5,</div><div class="line">                        1.2, -1.2,</div><div class="line">                        0.04, -0.02</div><div class="line">                }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adafdea986e73282e4354085afcde4f6c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::deque&lt;std::string&gt; franka_pivot_control::FrankaPivotController::mFrankaErrors {}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab2535574f0c910e197baae749628bdf3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">frankx::Affine franka_pivot_control::FrankaPivotController::mInitialPPAffine</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>just to evaluate the calcXtoY functions </p>

</div>
</div>
<a class="anchor" id="a29d73394788a7a2e6bfa6d2659119db0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool franka_pivot_control::FrankaPivotController::mIsRobotThreadRunning {false}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a6337afe86d9f2ef333df4ae748010d75"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">movex::MotionData franka_pivot_control::FrankaPivotController::mMotionData</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac42a5b3016a03aa7167ae59715b54b04"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;std::mutex&gt; franka_pivot_control::FrankaPivotController::mMotionDataMutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="af9204d13db4c3e61992d77c23b6ca456"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::thread franka_pivot_control::FrankaPivotController::mMoveThread</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a10942407813c058db4e9ec66f419fc6e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool franka_pivot_control::FrankaPivotController::mPivoting {false}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="afc456734b2071310be41d710f4b4556b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::thread franka_pivot_control::FrankaPivotController::mPivotThread</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a4bca23968d43916cf98ef6f133e56c9c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool franka_pivot_control::FrankaPivotController::mReady {false}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a666139c1a483a218aff31a10fb259084"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;frankx::Robot&gt; franka_pivot_control::FrankaPivotController::mRobot</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a807fb0e749b5e110aa5c9fe361d9e322"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex franka_pivot_control::FrankaPivotController::mTargetCurrentMutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a9f98dbd5c0c8256a330471dad7a5d78c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DOFPose franka_pivot_control::FrankaPivotController::mTargetDOFPose</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a0988ffaafe3cb7d5c181d14d57c29d99"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">movex::Waypoint franka_pivot_control::FrankaPivotController::mTargetWaypoint</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a71f09a82499e9a6441871f1b6b5ed28c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">movex::WaypointMotion franka_pivot_control::FrankaPivotController::mWaypointMotion</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab048a6dba8f1b39a93418f98aae32d93"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Eigen::Vector3d franka_pivot_control::FrankaPivotController::mYAxis {Eigen::Vector3d::UnitY()}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a623439f56c6e76f0b6bae8619eb389c5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Eigen::Vector3d franka_pivot_control::FrankaPivotController::mZAxis {Eigen::Vector3d::UnitZ()}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/franka_pivot_control/<a class="el" href="_franka_pivot_controller_8h_source.html">FrankaPivotController.h</a></li>
<li>src/<a class="el" href="_franka_pivot_controller_8cpp.html">FrankaPivotController.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
